<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>函式的绑定物件 this 基本篇</title>
</head>
<body>
	<script type="text/javascript">
	// this 代表函式的[绑定物件]，通常在函式中使用
	// 不同的程式码脉络下，[绑定物件]代表不同的东西
/*	
	// 情况一 独立的函式
	function test(){
		console.log(this)//独立的函式中 this 就是 window 物件
		console.log(this.innerWidth);//印出视窗宽度
	}	
	test()
*/

/*	
	// 情况二 物件的方法
	let obj={ // json 语法建立函式
		x:2,
		test:function(){
			console.log(this) // 物件的方法中 this 就是方法所属的物件本身
		}	
	}
	obj.test();
*/

/*	
	// 情况三 事件处理函式
	document.addEventListener("click",function(){
		console.log(this) // 事件处理函式中 this 就是触发(click)事件的对象物件 就是document整份网页，因为点击的是整份网页，所有this就是document
		this.body.innerHTML="hello world" // this 就是 document
	})
*/	

/*
	// 情况四 建构函式(1)		
	function Point(){
		console.log(this) // this 就是浏览器自动帮我们建立好的空白物件		
	}
	new Point()
*/

/*	
	// 情况四 建构函式(2)
	function Point(){
	console.log(this) // this 就是浏览器自动帮我们建立好的空白物件		
	this.x=3;
	this.y=4;
	}
	let p1=new Point()
	console.log(p1)
*/	
	
	// 进阶: 自定的绑定物件
	
	// 使用 bind 重新绑定物件
	function test(){
		console.log("绑定物件", this)
	}
	test();
	let test2=test.bind({x:3});
	test2();
	let test3=test.bind(document);
	test3();


/*
	// 使用 apply 呼叫函式， 可以自己设定绑定物件
	function add(n1,n2){
		console.log("result",n1+n2)
		console.log("attached",this) //这里绑定的是this 也就是window
	}
	add(3,4)
	add.apply({y:4},[4,5])//绑定的是{y:4} 后面的 4 5 是给定函式的参数 n1 n2
	add.apply(document,[6,7])
	// 使用 call 呼叫函式， 可以自己设定绑定物件
	add.call({x:9},11,12)
*/	
	</script>
</body>
</html>